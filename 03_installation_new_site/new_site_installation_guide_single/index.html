



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for Islandora Enterprise (ISLE)">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0, mkdocs-material-3.0.3">
    
    
      
        <title>New Site Deploy Guide - w/ Single ISLE Environment - Islandora Enterprise (ISLE)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#index-of-related-documents" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Islandora Enterprise (ISLE)" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Islandora Enterprise (ISLE)
              </span>
              <span class="md-header-nav__topic">
                New Site Deploy Guide - w/ Single ISLE Environment
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Islandora Enterprise (ISLE)" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Islandora Enterprise (ISLE)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Installation and Migration Instructions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Installation and Migration Instructions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      1. Configure the Host Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        1. Configure the Host Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/server-requirements/" title="Hardware Requirements" class="md-nav__link">
      Hardware Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/software-dependencies/" title="Software Dependencies" class="md-nav__link">
      Software Dependencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/install_troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2" checked>
    
    <label class="md-nav__link" for="nav-2-2">
      2. Deploy ISLE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        2. Deploy ISLE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2-1" type="checkbox" id="nav-2-2-1">
    
    <label class="md-nav__link" for="nav-2-2-1">
      Deploy a Test Site
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-2-1">
        Deploy a Test Site
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../02_installation_test/ild_example_user_story/" title="Test Site Example User Story" class="md-nav__link">
      Test Site Example User Story
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../02_installation_test/ild_installation_guide/" title="Test Site Deploy Guide" class="md-nav__link">
      Test Site Deploy Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../02_installation_test/ild_resources/" title="Test Site Resources" class="md-nav__link">
      Test Site Resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2-2" type="checkbox" id="nav-2-2-2" checked>
    
    <label class="md-nav__link" for="nav-2-2-2">
      Deploy a New ISLE Site
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-2-2">
        Deploy a New ISLE Site
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../new_site_example_user_story/" title="New Site Example User Story" class="md-nav__link">
      New Site Example User Story
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        New Site Deploy Guide - w/ Single ISLE Environment
      </label>
    
    <a href="./" title="New Site Deploy Guide - w/ Single ISLE Environment" class="md-nav__link md-nav__link--active">
      New Site Deploy Guide - w/ Single ISLE Environment
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index-of-related-documents" title="Index of related documents" class="md-nav__link">
    Index of related documents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assumptions-prerequisites" title="Assumptions / Prerequisites" class="md-nav__link">
    Assumptions / Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-environment-files" title="Docker Environment Files:" class="md-nav__link">
    Docker Environment Files:
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#master-section" title="Master Section:" class="md-nav__link">
    Master Section:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-section" title="Database Section:" class="md-nav__link">
    Database Section:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#islandora-drupal-section" title="Islandora (DRUPAL) Section:" class="md-nav__link">
    Islandora (DRUPAL) Section:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fedora-repository-section" title="Fedora Repository Section:" class="md-nav__link">
    Fedora Repository Section:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-services-section" title="Image Services Section:" class="md-nav__link">
    Image Services Section:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tomcatenv-applies-to-all-tomcat-instances" title="Tomcat.env applies to all Tomcat instances" class="md-nav__link">
    Tomcat.env applies to all Tomcat instances
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#config-directory" title="Config Directory" class="md-nav__link">
    Config Directory
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proxy-directory" title="Proxy directory" class="md-nav__link">
    Proxy directory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spin-up-isle-containers" title="Spin up ISLE containers!" class="md-nav__link">
    Spin up ISLE containers!
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../new_site_installation_guide_multi/" title="New Site Deploy Guide - w/ multiple ISLE Environments" class="md-nav__link">
      New Site Deploy Guide - w/ multiple ISLE Environments
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2-3" type="checkbox" id="nav-2-2-3">
    
    <label class="md-nav__link" for="nav-2-2-3">
      Migrate and Deploy an Existing Islandora site to ISLE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-2-3">
        Migrate and Deploy an Existing Islandora site to ISLE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../04_installation_migration/migration_example_user_story/" title="Migration Example User Story" class="md-nav__link">
      Migration Example User Story
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../04_installation_migration/migration_installation_guide/" title="Migration Guide" class="md-nav__link">
      Migration Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../04_installation_migration/migration_export_checklist/" title="Migration Export Checklist" class="md-nav__link">
      Migration Export Checklist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../04_installation_migration/migration_merge_checklist/" title="Migration Merge Checklist" class="md-nav__link">
      Migration Merge Checklist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../04_installation_migration/migration_reindex_process/" title="Migration Reindex Process" class="md-nav__link">
      Migration Reindex Process
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../get_help/" title="Get Help" class="md-nav__link">
      Get Help
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Developer Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Developer Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../05_developer_docs/dev_release_process/" title="Release process" class="md-nav__link">
      Release process
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../05_developer_docs/dev_example_user_story/" title="Example User Story" class="md-nav__link">
      Example User Story
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../05_developer_docs/dev_testing_guide/" title="Testing Guide" class="md-nav__link">
      Testing Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Appendices
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Appendices
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/update_isle/" title="Updating ISLE" class="md-nav__link">
      Updating ISLE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/editing-the-hosts-file/" title="Editing the /ect/hosts file" class="md-nav__link">
      Editing the /ect/hosts file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/sample-it-department-request/" title="Sample IT Department Request Letter" class="md-nav__link">
      Sample IT Department Request Letter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/installing-module-with-composer/" title="Installing a Drupal Module with Composer" class="md-nav__link">
      Installing a Drupal Module with Composer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/installing-module-with-drush/" title="Installing a Drupal Module with Drush" class="md-nav__link">
      Installing a Drupal Module with Drush
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/open-terminal-in-running-container/" title="Opening a Terminal in a Running Container" class="md-nav__link">
      Opening a Terminal in a Running Container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/configuring-lets-encrypt/" title="Using Let's Encrypt with ISLE" class="md-nav__link">
      Using Let's Encrypt with ISLE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/redhat/" title="Note/Warning about installing on Redhat" class="md-nav__link">
      Note/Warning about installing on Redhat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://docs.google.com/document/d/1r-I9n8mUhlJ5Z-X9AO-RrikhzH6I8bTPIL25LmtRbxE" title="Installing on Google Cloud Platform (Google Doc)" class="md-nav__link">
      Installing on Google Cloud Platform (Google Doc)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/isle-cheatsheet-docker-commands/" title="ISLE Cheat Sheet: Docker commands" class="md-nav__link">
      ISLE Cheat Sheet: Docker commands
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../08_about/about/" title="About ISLE" class="md-nav__link">
      About ISLE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../08_about/contributing_to_ISLE/" title="Contributing to ISLE" class="md-nav__link">
      Contributing to ISLE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../08_about/about_maintainers/" title="About Maintainers" class="md-nav__link">
      About Maintainers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../09_release_notes/release_notes/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../glossary/" title="Glossary of Terms and Variables" class="md-nav__link">
      Glossary of Terms and Variables
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index-of-related-documents" title="Index of related documents" class="md-nav__link">
    Index of related documents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assumptions-prerequisites" title="Assumptions / Prerequisites" class="md-nav__link">
    Assumptions / Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-environment-files" title="Docker Environment Files:" class="md-nav__link">
    Docker Environment Files:
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#master-section" title="Master Section:" class="md-nav__link">
    Master Section:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-section" title="Database Section:" class="md-nav__link">
    Database Section:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#islandora-drupal-section" title="Islandora (DRUPAL) Section:" class="md-nav__link">
    Islandora (DRUPAL) Section:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fedora-repository-section" title="Fedora Repository Section:" class="md-nav__link">
    Fedora Repository Section:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-services-section" title="Image Services Section:" class="md-nav__link">
    Image Services Section:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tomcatenv-applies-to-all-tomcat-instances" title="Tomcat.env applies to all Tomcat instances" class="md-nav__link">
    Tomcat.env applies to all Tomcat instances
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#config-directory" title="Config Directory" class="md-nav__link">
    Config Directory
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proxy-directory" title="Proxy directory" class="md-nav__link">
    Proxy directory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spin-up-isle-containers" title="Spin up ISLE containers!" class="md-nav__link">
    Spin up ISLE containers!
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>New Site Deploy Guide - w/ Single ISLE Environment</h1>
                
                <p>This guide documents how an enduser can spin up and install a single ISLE / Islandora environment tailored to use only one unique domain / URL and one ISLE environment.</p>
<p>A new ISLE / Islandora environment can include the option to create an un-themed Drupal website and empty Fedora repository for endusers to develop code, perform ingests, edit metadata, update fields in SOLR indexing all essential in ultimately creating a new ISLE production site.</p>
<p>While this checklist will attempt to point out most of the usage challenges or pitfalls, ISLE assumes no responsibility or liability in this matter should an enduser have customizations beyond what this guide outlines.</p>
<p><strong>Please note:</strong> There is a <a href="../../glossary/">Glossary</a> with relevant terms to help guide installation.</p>
<h2 id="index-of-related-documents">Index of related documents</h2>
<ul>
<li><a href="../new_site_example_user_story/">New Site Example User Story</a></li>
</ul>
<hr />
<h2 id="assumptions-prerequisites">Assumptions / Prerequisites</h2>
<ul>
<li>
<p>Comfortability with ISLE. Recommend first setting up the <a href="../../02_installation_test/ild_installation_guide/">ISLE Test Site</a> (<code>isle.localdomain</code>). If you have already done this, please proceed.</p>
</li>
<li>
<p>Host Server that conforms to the specifications outlined in the <a href="../../01_installation_host_server/server-requirements/#testingplayground">Server Requirements</a></p>
</li>
<li>
<p>This new site guide is designed for a single ISLE Host server that has already followed the appropriate setup and configuration instructions in the <a href="../..#new-isle">New ISLE section</a> of the guide.</p>
</li>
<li>
<p>Instructions below also assume a MacOS or Linux laptop or workstation to be used in conjunction with the ISLE Host Server for deploying configs, code, files etc. Windows users may have to adjust / swap out various tools as needed.</p>
</li>
<li>
<p>These directions also depend on the type of local computer used to connect via browser to Islandora.</p>
</li>
<li>
<p>Have an existing domain name that works - is set up with DNS etc...</p>
</li>
<li>
<p>Have <a href="../../glossary/#systems">SSL Certificates</a> previously created for the web domain. (<em>Please work with the appropriate internal IT resource to provision these files for your domain</em>)  OR use the <a href="../../07_appendices/configuring-lets-encrypt/">Let's Encrypt guide</a> to generate SSL Certificates.</p>
</li>
</ul>
<h2 id="overview">Overview</h2>
<ul>
<li>The .env and tomcat.env files (also known as your "Docker Environment files") are your primary resources for customizing your ISLE stack.</li>
<li>As a result your .env files contain passwords and usernames and must be treated with the utmost care. <strong>Never</strong> share or post your .env files publicly.</li>
</ul>
<h2 id="docker-environment-files">Docker Environment Files:</h2>
<p>There are .env files that exist in your cloned copy of the repository. This section describes what these files do, and their importance to your stack! Chiefly these files are tasked with automatically configuring and setting all ISLE systems to work together in the stack. ISLE removes the need of editing the more complex config files that are part of the Islandora stack manually. Just .env it!</p>
<p>You should edit these files with unique users/passwords, your domain name, site-name, etc. for your own <em>unique</em> instance of ISLE to come alive.</p>
<p><strong>Edit the file: </strong>.env<strong> and </strong>tomcat.env<strong> before you up (<code>docker-compose up</code>)</strong></p>
<p><strong>REMEMBER: never share or post your complete .env publicly... EVER! Use caution, and when in doubt ask a maintainer for help (i.e., discuss or share the file privately with an ISLE Maintainer)</strong></p>
<h3 id="master-section">Master Section:</h3>
<pre><code>* COMPOSE_PROJECT_NAME to something unique (e.g. `COMPOSE_PROJECT_NAME=isle-production-collections`)
  * This variable is appended to Docker objects like: volume names, network names.
* BASE_DOMAIN to your domainname (e.g. `BASE_DOMAIN=digital-collections.example.edu`)
  * This variable specifies your domain name!
* CONTAINER_SHORT_ID to something unique (e.g. `CONTAINER_SHORT_ID=prod`).
  * This variable is appended to the end of all running containers, keep it _short_!
</code></pre>
<h3 id="database-section">Database Section:</h3>
<table>
<thead>
<tr>
<th>.env Variable</th>
<th>Purpose</th>
<th>ISLE Services updated</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td>MYSQL_ROOT_PASSWORD</td>
<td>Set the <code>root</code> password for MySQL</td>
<td>MySQL, Fedora, Apache</td>
<td>Allows Fedora and Apache to update their relevant databases as well as to configure themselves to work together.</td>
</tr>
<tr>
<td>FEDORA_DB</td>
<td>Set the name of Fedora database</td>
<td>MySQL, Fedora</td>
<td>Specifies which database to create or use for Fedora data.</td>
</tr>
<tr>
<td>DRUPAL_DB</td>
<td>Set the name of the Drupal database</td>
<td>MySQL, Apache, Fedora</td>
<td>Specifies which database to create or use for Fedora data. Updates components of Fedora so it can read the Drupal database for users.</td>
</tr>
<tr>
<td>FEDORA_DB_USER DRUPAL_DB_USER</td>
<td>Sets the MySQL user</td>
<td>MySQL, Apache, Fedora</td>
<td>Specifies names of Database users.</td>
</tr>
<tr>
<td>FEDORA_DB_PASS DRUPAL_DB_PASS</td>
<td>Sets MySQL user passwords</td>
<td>MySQl, Apache, Fedora</td>
<td>Specifies passwords of Database users.</td>
</tr>
</tbody>
</table>
<h3 id="islandora-drupal-section">Islandora (DRUPAL) Section:</h3>
<table>
<thead>
<tr>
<th>.env Variable</th>
<th>Purpose</th>
<th>ISLE Services updated</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td>DRUPAL_SITE_NAME</td>
<td>Sets the Drupal Site Name variable</td>
<td>Drupal</td>
<td>Sets the name of your Islandora Website; e.g.:  "<Your Group's Name> Digital Collections"</td>
</tr>
<tr>
<td>DRUPAL_ADMIN_USER</td>
<td>Set the name of Drupal admin</td>
<td>Drupal</td>
<td>Specifies the 'admin user' for your Islandora website.</td>
</tr>
<tr>
<td>DRUPAL_ADMIN_PASS</td>
<td>Set the password of Drupal admin</td>
<td>Drupal</td>
<td>Specifies the password of 'admin user' for your Islandora website.</td>
</tr>
<tr>
<td>DRUPAL_ADMIN_EMAIL</td>
<td>Set the email of Drupal admin</td>
<td>Drupal</td>
<td>Specifies the email address of the 'admin user' for your Islandora site.</td>
</tr>
<tr>
<td>DRUPAL_HASH_SALT</td>
<td>Secures your installation by hashing data</td>
<td>Drupal</td>
<td>Secures your install of Drupal (Islandora) by hashing (obscuring) key data. Use <a href="https://passwordsgenerator.net/">password generator tool</a> to create a HASH_SALT, remember alphanumeric characters ONLY (no special characters).</td>
</tr>
</tbody>
</table>
<h3 id="fedora-repository-section">Fedora Repository Section:</h3>
<table>
<thead>
<tr>
<th>.env Variable</th>
<th>Purpose</th>
<th>ISLE Services updated</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td>FEDORA_ADMIN_USER</td>
<td>Set the name of Fedora admin</td>
<td>Fedora</td>
<td>Sets the master administrator username to login to the Fedora repository. You login with this user.</td>
</tr>
<tr>
<td>FEDORA_ADMIN_PASS</td>
<td>Set the password of Fedora admin</td>
<td>Fedora</td>
<td>Sets the master administrator password to login to the Fedora repository.</td>
</tr>
<tr>
<td>FEDORA_GSEARCH_USER</td>
<td>Sets the username for FGS</td>
<td>Fedora, Fedora Generic Search</td>
<td>Sets the Fedora Generic Search (FGS) username used to login to the Fedora repository. FGS uses this user to connect to Fedora to update your search index.</td>
</tr>
<tr>
<td>FEDORA_GSEARCH_PASS</td>
<td>Sets the password for FGS</td>
<td>Fedora, Fedora Generic Search</td>
<td>Sets the password for FGS to gain access to your repository.</td>
</tr>
<tr>
<td>FEDORA_INTCALL_USER</td>
<td>Sets the internal call user</td>
<td>Fedora</td>
<td>The internal call username</td>
</tr>
<tr>
<td>FEDORA_INTCALL_PASS</td>
<td>Sets the internal call password</td>
<td>Fedora</td>
<td>The internal call password</td>
</tr>
</tbody>
</table>
<h3 id="image-services-section">Image Services Section:</h3>
<table>
<thead>
<tr>
<th>.env Variable</th>
<th>ISLE Services updated</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td>CANTALOUPE_ADMIN_INTERFACE_ENABLE</td>
<td>ImageServices</td>
<td>Enables or Disables the Cantaloupe IIIF /admin control panel. Locatied at http://hostip:8083/cantaloupe/admin when true, else false.</td>
</tr>
<tr>
<td>CANTALOUPE_ADMIN_USER</td>
<td>ImageServices</td>
<td>Set the admin username to login to the admin panel.</td>
</tr>
<tr>
<td>CANTALOUPE_ADMIN_PASS</td>
<td>ImageServices</td>
<td>Set the admin password to login to the admin panel.</td>
</tr>
</tbody>
</table>
<h3 id="tomcatenv-applies-to-all-tomcat-instances">Tomcat.env applies to all Tomcat instances</h3>
<table>
<thead>
<tr>
<th>Tomcat.env Variable</th>
<th>ISLE Services updated</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td>TOMCAT_ADMIN_USER</td>
<td>Fedora, Solr, ImageServices</td>
<td>Set the admin username to login to the admin panel.</td>
</tr>
<tr>
<td>TOMCAT_ADMIN_PASS</td>
<td>Fedora, Solr, ImageServices</td>
<td>Set the admin password to login to the admin panel.</td>
</tr>
<tr>
<td>TOMCAT_MANAGER_USER</td>
<td>Fedora, Solr, ImageServices</td>
<td>Set the manager username to login to the admin panel.</td>
</tr>
<tr>
<td>TOMCAT_MANAGER_PASS</td>
<td>Fedora, Solr, ImageServices</td>
<td>Set the manager password to login to the admin panel.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="config-directory">Config Directory</h2>
<p>The config directory has many purposes like holding customized configuration files mounted to specific containers (which we have no covered here), but for a single simple site we only use it to hold our proxy configs and as a place to store our SSL Certificate and Key.</p>
<hr />
<h3 id="proxy-directory">Proxy directory</h3>
<p>If need be, please refer to the <strong>Systems</strong> section of the <a href="../../glossary/">Glossary</a> for relevant terms to help guide installation.</p>
<p>The <code>proxy</code> subdirectory contains all specific configurations necessary for the Traefik proxy to function properly with your changes.</p>
<p>If need be, please refer to the <strong>SSL certificate</strong> section of the <a href="../../glossary/">Glossary</a> for relevant terms to help guide installation.</p>
<p>There are also additional links for the enduser to learn how to combine the SSL Certificate File with any available SSL Certificate Chain File for the <code>proxy</code> process to work properly.</p>
<p><strong>If you followed the <a href="../../07_appendices/configuring-lets-encrypt/">Let's Encrypt</a> configuration guide, you can skip to the next section: Spin up ISLE containers</strong></p>
<ul>
<li>
<p>Copy your SSL certificates for the ISLE Proxy into <code>config/proxy/ssl-certs</code>. They will and should have different names than the examples provided below.</p>
<ul>
<li>
<p>There can only be 2 files involved in this process.</p>
<ul>
<li>
<p>1 x SSL Certificate Key File e.g. <code>newsite-sample-key.pem</code></p>
<ul>
<li>This file is required.</li>
<li>Please also note that the file extensions can also be: <code>.key</code> or <code>.pem</code></li>
</ul>
</li>
<li>
<p>1 x SSL Certificate File e.g. <code>newsite-sample.pem</code></p>
<ul>
<li>This file is required.</li>
<li>Please also note that the file extensions can also be: <code>.cer</code>, <code>.crt</code> or <code>.pem</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Edit the <code>config/proxy/traefik.toml</code> file:</p>
</li>
<li>Change line 27 and 28:<ul>
<li><code>certFile = "/certs/newsite-sample.cert"</code>  ## Change to reflect your CERT, CRT, or PEM</li>
<li><code>keyFile = "/certs/newsite-sample-key.key"</code>  ## Change to reflect your KEY, or PEM.</li>
</ul>
</li>
</ul>
<hr />
<h2 id="spin-up-isle-containers">Spin up ISLE containers!</h2>
<ul>
<li>
<p>Run <code>docker-compose up -d</code></p>
</li>
<li>
<p>Wait for the stack to completely initialize, about 5 minutes (typically much less).</p>
</li>
<li>
<p>Run <code>docker exec -it isle-apache-&lt;CONTAINER_SHORT_ID&gt; bash /utility-scripts/isle_drupal_build_tools/isle_islandora_installer.sh</code></p>
<ul>
<li>Using the <CONTAINER_SHORT_ID> value from the .env file here (<em>typically: isle-apache-prod, or -stage, -dev, etc.</em>)</li>
</ul>
</li>
<li>
<p>Give this process 15 - 25 minutes (<em>depending on the speed of the ISLE Host server internet connection</em>)</p>
</li>
<li>
<p>Check the newly created and running new site by opening a browser and navigating to your site domain e.g. <code>https://digital-collections.example.edu</code>, you should now see an un-themed Drupal site.</p>
</li>
</ul>
<hr />
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../new_site_example_user_story/" title="New Site Example User Story" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                New Site Example User Story
              </span>
            </div>
          </a>
        
        
          <a href="../new_site_installation_guide_multi/" title="New Site Deploy Guide - w/ multiple ISLE Environments" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                New Site Deploy Guide - w/ multiple ISLE Environments
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>